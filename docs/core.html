---

title: Birdio Core

keywords: fastai
sidebar: home_sidebar

summary: "The bits and bobs for accessing calls etc fro XC, setting up the file structure we use for training and so on."
description: "The bits and bobs for accessing calls etc fro XC, setting up the file structure we use for training and so on."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="query_box" class="doc_header"><code>query_box</code><a href="https://github.com/johnowhitaker/birdio/tree/master/birdio/core.py#L10" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>query_box</code>(<strong><code>LAT_MIN</code></strong>=<em><code>-180</code></em>, <strong><code>LAT_MAX</code></strong>=<em><code>180</code></em>, <strong><code>LON_MIN</code></strong>=<em><code>-180</code></em>, <strong><code>LON_MAX</code></strong>=<em><code>180</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="query_all_recordings" class="doc_header"><code>query_all_recordings</code><a href="https://github.com/johnowhitaker/birdio/tree/master/birdio/core.py#L15" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>query_all_recordings</code>(<strong><code>LAT_MIN</code></strong>=<em><code>-180</code></em>, <strong><code>LAT_MAX</code></strong>=<em><code>180</code></em>, <strong><code>LON_MIN</code></strong>=<em><code>-180</code></em>, <strong><code>LON_MAX</code></strong>=<em><code>180</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_query</span> <span class="o">=</span> <span class="n">query_box</span><span class="p">(</span><span class="o">-</span><span class="mi">27</span><span class="p">,</span> <span class="o">-</span><span class="mi">25</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="c1"># test_query # Shows total number of recordings, pages etc and &#39;recordings&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_query</span><span class="p">[</span><span class="s1">&#39;recordings&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># An example recording, with all the info we&#39;d need</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;id&#39;: &#39;307184&#39;,
 &#39;gen&#39;: &#39;Dendrocygna&#39;,
 &#39;sp&#39;: &#39;viduata&#39;,
 &#39;ssp&#39;: &#39;&#39;,
 &#39;en&#39;: &#39;White-faced Whistling Duck&#39;,
 &#39;rec&#39;: &#39;Faansie Peacock&#39;,
 &#39;cnt&#39;: &#39;South Africa&#39;,
 &#39;loc&#39;: &#39;Bushwillow Estate, Vaalkop Dam Nature Reserve, near Beestekraal, North West&#39;,
 &#39;lat&#39;: &#39;-25.3071&#39;,
 &#39;lng&#39;: &#39;27.449&#39;,
 &#39;alt&#39;: &#39;1000&#39;,
 &#39;type&#39;: &#39;alarm call&#39;,
 &#39;url&#39;: &#39;//www.xeno-canto.org/307184&#39;,
 &#39;file&#39;: &#39;//www.xeno-canto.org/307184/download&#39;,
 &#39;file-name&#39;: &#39;XC307184-Duck Whitefaced_Vaalkop_151231_27_B.mp3&#39;,
 &#39;sono&#39;: {&#39;small&#39;: &#39;//www.xeno-canto.org/sounds/uploaded/TWAAJJHMEH/ffts/XC307184-small.png&#39;,
  &#39;med&#39;: &#39;//www.xeno-canto.org/sounds/uploaded/TWAAJJHMEH/ffts/XC307184-med.png&#39;,
  &#39;large&#39;: &#39;//www.xeno-canto.org/sounds/uploaded/TWAAJJHMEH/ffts/XC307184-large.png&#39;,
  &#39;full&#39;: &#39;//www.xeno-canto.org/sounds/uploaded/TWAAJJHMEH/ffts/XC307184-full.png&#39;},
 &#39;lic&#39;: &#39;//creativecommons.org/licenses/by-nc-sa/4.0/&#39;,
 &#39;q&#39;: &#39;B&#39;,
 &#39;length&#39;: &#39;0:31&#39;,
 &#39;time&#39;: &#39;09:30&#39;,
 &#39;date&#39;: &#39;2015-12-31&#39;,
 &#39;uploaded&#39;: &#39;2016-03-15&#39;,
 &#39;also&#39;: [&#39;Himantopus himantopus&#39;],
 &#39;rmk&#39;: &#39;Very high, anxious whistles from a raft of ducks roosting on the shore of the dam, in response to an African Fish Eagle flying over.&#39;,
 &#39;bird-seen&#39;: &#39;yes&#39;,
 &#39;playback-used&#39;: &#39;no&#39;}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Each recording has a URL for the audio file, but also comes with some sonograms. Very useful!</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">Image</span>
<span class="n">Image</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">test_query</span><span class="p">[</span><span class="s1">&#39;recordings&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;sono&#39;</span><span class="p">][</span><span class="s1">&#39;med&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<img src="//www.xeno-canto.org/sounds/uploaded/TWAAJJHMEH/ffts/XC307184-med.png"/>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Creating-a-database-of-available-recordings">Creating a database of available recordings<a class="anchor-link" href="#Creating-a-database-of-available-recordings"> </a></h1><p>I'm going to run this once, then we can simply load the data from the CSV.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># df = query_all_recordings()</span>
<span class="c1"># df.to_csv(&#39;XC_Recordings.csv&#39;, index=False)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Exporting-the-library">Exporting the library<a class="anchor-link" href="#Exporting-the-library"> </a></h1>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">nbdev.export</span> <span class="k">import</span> <span class="o">*</span>
<span class="n">notebook2script</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Converted 00_core.ipynb.
Converted index.ipynb.
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

